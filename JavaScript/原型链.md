# 原型链
## 1.  原型链的基本概念
在 JavaScript 中，每个对象都有一个内部属性 `[[Prototype]]`，通常可以通过 `__proto__` 属性访问。这个属性指向了该对象的“原型对象”。而这个原型对象本身也有自己的原型，如此向上追溯，形成了一个“链状”结构，这就是原型链。

**原型链的两个关键词：`__proto__` 和 `Prototype`**
假设代码：
```js
function Person(name) {
    this.name = name;
}
const person = new Person("Alice");
```
则有原型链：`person -> Person.prototype -> Object.prototype -> null`
## 2. `__proto__`
- 实际上箭头就代表着 `__proto__`，`__proto__` 指的是构建该变量的函数的**所有**属性，即 `person.__proto__===Person.prototype`
- 即使 `Person` 有多个属性，`person.__proto__ === Person.prototype` 仍然成立
## 3. `prototype`
**`Person.prototype`**：
-   是构造函数 `Person` 的**所有**原型对象。
-   所有通过 `Person` 创建的实例（如 `person`）的原型都指向 `Person.prototype`。 
-   用于定义所有实例共享的属性和方法

原型链：`person -> Person.prototype -> Object.prototype -> null`
`person.__proto__ === Person.prototype`
`Person.prototype.__proto__ === Object.prototype`

## 4.原型链上添加方法/属性
```js
Person.prototype.name = 'Joe';
Person.prototype._reduce = function(() => {})
```

## 5.`Object.create(proto, [propertiesObject])`创建新对象并制定原型
`Object.create(proto, [propertiesObject])` 是 JavaScript 的一个内置方法，用于创建一个新对象，并指定其原型对象（`proto`）。如果提供了 `propertiesObject`，还可以定义新对象的属性。
语法：`Object.create(proto, [propertiesObject])`
-   **`proto`**：新对象的原型对象。
    
-   **`propertiesObject`**（可选）：一个对象，其属性会被添加到新创建的对象中。这些属性的定义方式与 `Object.defineProperties` 中的属性定义方式相同。

```js
const proto = {
  greet: function() {
    return `Hello, ${this.name}`;
  }
};
const obj = Object.create(proto, {
  name: { value: "Alice", writable: true, enumerable: true, configurable: true }
});
console.log(obj.greet()); // 输出：Hello, Alice
console.log(obj.name);    // 输出：Alice

//不带propertiesObject
const obj1 = Object.create(proto);
obj1.name = 'Joe';
console.log(obj.greet()); // 输出：Hello, Joe
```

**补充：手写代码实现 `Object.create` 功能**
```js
const  _objectCreate = proto  => {
	if(typeof  proto !== 'Object' || typeof  proto === null) return;
	const  fn = function(){}
	fn.prototype = proto;
	return  new  fn()
}
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIwOTc2MzAyNzldfQ==
-->