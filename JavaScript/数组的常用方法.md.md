# 数组的常用方法
> es6中补充了新类型 `set`，相当于 python 的集合
> - 数组的去重可以用 `[...new  Set(array)]`，先将数组转换成集合再结构为数组
## 1. some
- `some` 方法会遍历数组中的每个元素，并对每个元素执行一个指定的测试函数。如果测试函数对任何一个元素返回 `true`，则 `some` 方法立即返回 `true`，表示数组中至少有一个元素满足条件；如果遍历完所有元素都没有找到满足条件的元素，则返回 `false`。
- 使用语法：`array.some(callback(element[, index[, array]])[, thisArg])`
- 参数：
-  返回值：
	-   如果数组中至少有一个元素满足回调函数的条件，返回 `true`。
	-   如果没有任何一个元素满足条件，返回 `false`。
- 实例：
```js
const numbers = [1, 5, 8, 12, 15];
const hasGreaterThanTen = numbers.some((num) => num > 10);
console.log(hasGreaterThanTen); // 输出：true
```
## 2. `split`
>是字符串的方法，返回数组
- `split` 是将字符串分割，返回数组的方法
1. `string.split(separator, limit)` 
	- `separator` 是设定分割字符串的分隔符
	- `limit`（可选）是设定返回数组的最长长度
```js
let str = "apple,banana,orange";
let fruits = str.split(",");
console.log(fruits); // 输出：["apple", "banana", "orange"]
//分隔符为空，则每个字母之间都分割
let str = "hello";
let result = str.split("");
console.log(result); // 输出：["h", "e", "l", "l", "o"]
//使用正则表达式
let str = "apple,banana;orange";
let fruits = str.split(/[,;]/);
console.log(fruits); // 输出：["apple", "banana", "orange"]
```
## 3.`slice`
- `slice` 方法可以从数组中提取指定范围的元素，并返回一个新的数组。这个方法不会修改原数组，而是返回一个包含指定范围元素的副本。
- `array.slice(start, end)`
	-  **`start`**：开始提取的索引（包含）。如果为负数，则表示从数组末尾开始计数。（数组开始的 `index=0`，数组末尾的 `index=-1`）
    
	-   **`end`**：结束提取的索引（不包含）。如果省略此参数，则提取从 `start` 到数组末尾的所有元素。如果为负数，也表示从数组末尾开始计数。
```js
let fruits = ["apple", "banana", "orange", "mango", "grape"];
let subArray = fruits.slice(1, 4);
console.log(subArray); // 输出：["banana", "orange", "mango"]

//将一维数组变成3个一组的二维数组
function convertTo2DArray(arr,len) {
	let result = [];
	for(i = 0, i < arr.length, i += len){
		result.push(arr.slice(i, i + len));
	}
	return result;
}
let inputArr = [1,2,3,4,5,6,7,8,9];
var outputArray = convertTo2DArray(inputArray, 3); 
console.log(outputArray); //[[1,2,3],[4,5,6],[7,8,9]]
```

## 4. `join`
将数组转换成字符串，并且可以指定分隔符

## 5.`reverse`

## 6.`concat()`
用于将多个数组合并为一个新数组。它不会修改原数组，而是返回一个新的数组
`let newArray = array.concat(value1, value2, ..., valueN);`
- **`value1, value2, ..., valueN`**：可以是数组，也可以是单个值。这些值会被添加到新数组中
```js
const array1 = [1, 2, 3];
const array2 = [4, 5, 6];
const newArray = array1.concat(array2);
console.log(newArray); // 输出：[1, 2, 3, 4, 5, 6]
console.log(array1);   // 输出：[1, 2, 3]，原数组未被修改
const array3 = [1, 2, 3];
const newArray = array3.concat(4, 5);
console.log(newArray); // 输出：[1, 2, 3, 4, 5]
```

## 7.`reduce`
能够对数组中的元素进行累积计算，并最终返回一个单一的值。它在处理数组数据时非常灵活，可以用于求和、求积、统计、转换等多种场景
`array.reduce(callback(accumulator, currentValue, currentIndex, array), initialValue);`
-   **`callback`**：每次迭代时都会调用的函数，它有以下参数：
    
    -   **`accumulator`**：累加器，保存了上一次回调函数的返回值。
        
    -   **`currentValue`**：当前正在处理的数组元素。
        
    -   **`currentIndex`**（可选）：当前正在处理的数组元素的索引。
        
    -   **`array`**（可选）：调用 `reduce` 的数组。
        
-   **`initialValue`**（可选）：作为第一次调用 `callback` 函数时的第一个参数的值。如果不提供初始值，`accumulator` 的初始值将是数组的第一个元素，`currentValue` 的初始值将是数组的第二个元素。
### （1）累加
```js
let arr = [1,2,3,4]
function sum(arr) {
	return arr.reduce((pre, cur) => pre + cur, 0 );
}
```
### （2）累乘
```js
const numbers = [1, 2, 3, 4, 5];
const product = numbers.reduce((accumulator, currentValue) => accumulator * currentValue, 1);
console.log(product); // 输出：120
```
### （3）统计对象属性
假设有一个数组，每个元素是一个对象，我们想统计某个属性的总和：
```js
const orders = [
  { id: 1, amount: 20 },
  { id: 2, amount: 30 },
  { id: 3, amount: 40 }
];
const totalAmount = orders.reduce((accumulator, order) => accumulator + order.amount, 0);
console.log(totalAmount); // 输出：90
```
### （4）数组扁平化 （结合`reduce`和`concat`）
```js
const nestedArray = [1, [2, [3, [4, 5]]]];
const flatArray = nestedArray.reduce((accumulator, currentValue) => 
  accumulator.concat(Array.isArray(currentValue) ? currentValue.reduce(arguments.callee, []) : currentValue), []);
console.log(flatArray); // 输出：[1, 2, 3, 4, 5]
```
-   **`arguments.callee`**：这是一个特殊的函数属性，引用了当前正在执行的函数。在这个例子中，`arguments.callee` 引用了外层的 `reduce` 回调函数。（递归）

-   **`currentValue.reduce(arguments.callee, [])`**：对嵌套数组 `currentValue` 调用 `reduce` 方法，递归地处理嵌套数组。初始值是空数组 `[]`，目的是将嵌套数组中的所有值扁平化并累积到一个新数组中
### （5）分组统计
根据某个属性对元素进行分组
```js
const people = [
  { name: 'Alice', age: 25 },
  { name: 'Bob', age: 30 },
  { name: 'Charlie', age: 25 }
];
const groupedByAge = people.reduce((accumulator, person) => {
  const age = person.age;
  if (!accumulator[age]) {	
  // 判断accumulator对象是否有以age为key的键值对
    accumulator[age] = [];
  }
  accumulator[age].push(person);
  return accumulator;
}, {});
console.log(groupedByAge);
// 输出：
// {
//   25: [{ name: 'Alice', age: 25 }, { name: 'Charlie', age: 25 }],
//   30: [{ name: 'Bob', age: 30 }]
// }
```




## 待添加

-   `find()` 找某元素
-   `push()` 添加
-   `pop()` 弹出
-   `shift()` 删除第一个返回值
-   `unshift()` 删除最后一个返回值
-   `splice()`
用于添加、删除或替换数组中的元素。可以实现多种操作，非常灵活。
    **是否改变原数组**：会改变原数组。
    **参数**： 
    -   第一个参数：开始操作的索引位置。
    -   第二个参数：要删除的元素数量（可选）。
    -   第三个及以后的参数：要插入的元素（可选）。

-   `sort()` 排序 `array.sort()`
-   `reverse()` 倒序
- 不改变原数组，返回新数组
- `filter()` 过滤
- `concat()`  添加数组
-  `slice()` 提取指定范围的元素
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE2ODYxODE5NTAsLTg1MjI1NTI1MiwtMj
I1NjA4NDgwXX0=
-->