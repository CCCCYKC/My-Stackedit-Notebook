# VUE3 进阶知识

## 1. `props` 声明
>所有的 props 都遵循着**单向绑定**原则，props 因父组件的更新而变化，自然地将新的状态向下流往子组件，而不会逆向传递
>props 是只读的
- 声明方法可以用数组、对象（推荐，有类型检验）
```html
<script setup>
const props = defineProps({  // 或 const props = defineProps(['foo'])
	title: String,  
	likes: Number  
})
console.log(props.title, props.likes)
</script>
```
- 若要监听传递进来的 `props`，只能将其包装在 `getter` 中来侦听解构的 `prop`
```js
const { foo } = defineProps(['foo'])
watch(() => foo, /* ... */)
```

## 2. 事件 `$emit`
- `$emit` 可传递两个参数，为 `$emit('事件名称', 参数)`，参数会成为父组件触发事件的参数
- 同时，在子组件中要通过 `defineEmits()` 宏来声明它要触发的事件
```html
// 子组件
<script setup>
defineEmits(['increaseBy'])
</script>
<button @click="$emit('increaseBy', 1)">
  Increase by 1
</button>

// 父组件
<script>
function increaseCount(n) {
  count.value += n
}
</script>
<MyButton @increase-by="increaseCount" />
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTY3NDIwNjc2NF19
-->